__NUXT_JSONP__("/announcements/understanding-how-fetch-works-in-nuxt-2-12", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO){return {data:[{page:{key:"content:en:announcements:2.understanding-how-fetch-works-in-nuxt-2-12.md",generatedAt:new Date(1654154460631),mtime:new Date(1654154460615),slug:"understanding-how-fetch-works-in-nuxt-2-12",title:"Understanding how fetch works in Nuxt 2.12",position:"999900020000",to:"\u002Fannouncements\u002Funderstanding-how-fetch-works-in-nuxt-2-12",draft:$,page:af,language:"en",template:"Post",description:"Explore different features of the fetch hook and learn a brand new way to bring data into Nuxt applications.",imgUrl:"blog\u002Funderstanding-how-fetch-works-in-nuxt-2-12\u002Fmain.jpeg",imgCredits:"Rahul Bhosale",imgCreditsUrl:"https:\u002F\u002Funsplash.com\u002F@rahul_design",date:new Date(1586131200000),authors:[{name:"Krutie Patel",avatarUrl:"https:\u002F\u002Fpbs.twimg.com\u002Fprofile_images\u002F780651635932434432\u002FYtbSkumD_400x400.jpg",link:"https:\u002F\u002Ftwitter.com\u002FKrutiePatel"}],tags:["Nuxt","Fetch","Asynchronous Data Fetching","API"],category:"Release",empty:$,excerpt:void 0,body:{raw:"---\ntemplate: post\ntitle: 'Understanding how fetch works in Nuxt 2.12'\ndescription: Explore different features of the fetch hook and learn a brand new way to bring data into Nuxt applications.\nimgUrl: blog\u002Funderstanding-how-fetch-works-in-nuxt-2-12\u002Fmain.jpeg\nimgCredits: Rahul Bhosale\nimgCreditsUrl: https:\u002F\u002Funsplash.com\u002F@rahul_design\ndate: 2020-04-06\nauthors:\n  - name: Krutie Patel\n    avatarUrl: https:\u002F\u002Fpbs.twimg.com\u002Fprofile_images\u002F780651635932434432\u002FYtbSkumD_400x400.jpg\n    link: https:\u002F\u002Ftwitter.com\u002FKrutiePatel\ntags:\n  - Nuxt\n  - Fetch\n  - Asynchronous Data Fetching\n  - API\ncategory: Release\n---\n\nNuxt introduces a new `fetch` with the latest release of version 2.12. Fetch provides a brand new way to bring data into Nuxt applications.\n\nIn this post, we will explore different features of the fetch hook and try to understand how it works.\n\n## Fetch Hook and Nuxt Lifecycle\n\nIn terms of Nuxt lifecycle hooks, `fetch` sits within Vue lifecycle after `created` hook. As we already know that, all Vue lifecycle hooks are called with their `this` context. The same applies to `fetch` hook as well.\n\n![New fetch in Nuxt lifecycle](\u002Fblog\u002Funderstanding-how-fetch-works-in-nuxt-2-12\u002Fnew-fetch-lifecycle-hooks.png)\n\nFetch hook is called after the component instance is created on the server-side. That makes `this` context available inside the `fetch`.\n\n```js\nexport default {\n  fetch() {\n    console.log(this)\n  }\n}\n```\n\nLet’s see what this could mean for page components.\n\n### Page Components\n\nWith the help of `this` context, fetch is able to mutate component’s data directly. It means we can set the component’s local data without having to dispatch Vuex store action or committing mutation from the page component.\n\nAs a result, Vuex becomes optional, but not impossible. We can still use `this.$store` as usual to access Vuex store if required.\n\n## Availability of fetch hook\n\nWith `fetch`, we can prefetch the data asynchronously **in any Vue components**. It means, other than page components found in `\u002Fpages` directory, every other `.vue` components found in `\u002Flayouts` and `\u002Fcomponents` directories can also benefit from the fetch hook.\n\nLet's see what this could mean for layout and building-block components.\n\n### Layout Components\n\nUsing new `fetch`, now we can make API calls directly from the layout components. This was impossible prior to the release of v2.12.\n\n**Possible use cases**\n\n- Fetch config data from the back-end in Nuxt layouts to generate footer and navbar dynamically\n- Fetch user related data (i.e. user profile, shopping-cart item count) in the navbar\n- Fetch site relevant data on `layouts\u002Ferror.vue`\n\n### Building-block (Child\u002FNested) Components\n\nWith `fetch` hook available in child components as well, we can off-load some of the data-fetching tasks from page-level components, and delegate them over to nested components. This was also impossible prior to the release of v2.12.\n\nThis reduces the responsibility of route-level components to a great extent.\n\n**Possible use case -** We can still pass props to child components, but if the child components need to have their own data-fetching logic, now they can!\n\n## Call order of multiple fetch hooks\n\nSince each component can have its own data-fetching logic, you may ask what would be the order in which each of them are called?\n\nFetch hook is called on server-side once (on the first request to the Nuxt app) and then on client-side when navigating to further routes. But since we can define one fetch hook for each component, fetch hooks are called in sequence of their hierarchy.\n\n### Disabling fetch on server-side\n\nIn addition, we can even disable fetch on the server-side if required.\n\n```js\nexport default {\n  fetchOnServer: false\n}\n```\n\nAnd this way, the fetch hook will only be called on client-side. When `fetchOnServer` is set to false, `$fetchState.pending` becomes `true` when the component is rendered on server-side.\n\n## Error Handling\n\nNew `fetch` handles error at component level. Let’s see how.\n\nBecause we’re fetching data asynchronously, the new fetch() provides a `$fetchState` object to check whether the request has finished and progressed successfully.\n\nBelow is what the `$fetchState` object looks like.\n\n```\n$fetchState = {\n  pending: true | false,\n  error: null | {},\n  timestamp: Integer\n};\n```\n\nWe have three keys,\n\n1. **Pending -** lets you display a placeholder when fetch is being called on client-side\n2. **Error -** lets you show an error message\n3. **Timestamp -** shows timestamp of the last fetch which is useful for caching with `keep-alive`\n\nThese keys are then used directly in the template area of the component to show relevant placeholders during the process of fetching data from the API.\n\n```html\n\u003Ctemplate\u003E\n  \u003Cdiv\u003E\n    \u003Cp v-if=\"$fetchState.pending\"\u003EFetching posts...\u003C\u002Fp\u003E\n    \u003Cp v-else-if=\"$fetchState.error\"\u003EError while fetching posts\u003C\u002Fp\u003E\n    \u003Cul v-else\u003E\n      …\n    \u003C\u002Ful\u003E\n  \u003C\u002Fdiv\u003E\n\u003C\u002Ftemplate\u003E\n```\n\nWhen error occurs at **component-level**, we can set HTTP status code on server-side by checking `process.server` in fetch hook and follow it up with `throw new Error()` statement.\n\n```js\nasync fetch() {\n  const post = await fetch(`https:\u002F\u002Fjsonplaceholder.typicode.com\u002Fposts\u002F${this.$route.params.id}`)\n                     .then((res) =\u003E res.json())\n\n  if (post.id === this.$route.params.id) {\n      this.post = post\n    } else {\n      \u002F\u002F set status code on server and\n      if (process.server) {\n        this.$nuxt.context.res.statusCode = 404\n      }\n      \u002F\u002F use throw new Error()\n      throw new Error('Post not found')\n    }\n}\n```\n\nSetting the HTTP status code this way **is useful for correct SEO**.\n\n## Fetch as a method\n\nNew fetch hook also acts as a method that can be invoked upon user interaction or invoked programmatically from the component methods.\n\n```html\n\u003C!-- from template in template  --\u003E\n\u003Cbutton @click=\"$fetch\"\u003ERefresh Data\u003C\u002Fbutton\u003E\n```\n\n```js\n\u002F\u002F from component methods in script section\nexport default {\n  methods: {\n    refresh() {\n      this.$fetch()\n    }\n  }\n}\n```\n\n## Making Nuxt pages more performant\n\nWe can use `:keep-alive-props` prop and `activated` hook to make Nuxt page components more performant using a new fetch hook.\n\nNuxt allows **caching a certain number of pages** in the memory along with their fetched data. And also allows **adding a number of seconds** before we can re-fetch the data.\n\nFor any of the above methods to work, we have to use the `keep-alive` prop in generic `\u003Cnuxt \u002F\u003E` and `\u003Cnuxt-child`\u003E components.\n\n```html{}[layouts\u002Fdefault.vue]\n\u003Ctemplate\u003E\n  \u003Cdiv\u003E\n    \u003Cnuxt keep-alive \u002F\u003E\n  \u003C\u002Fdiv\u003E\n\u003C\u002Ftemplate\u003E\n```\n\nIn addition, we can pass `:keep-alive-props` to `\u003Cnuxt \u002F\u003E` component to cache a number of pages along with their fetched data.\n\n`:keep-alive-props` prop allow us to indicate the maximum number of pages that should be kept in the memory while we navigate elsewhere within the site.\n\n```html{}[layouts\u002Fdefault.vue]\n\u003Cnuxt keep-alive :keep-alive-props=\"{ max: 10 }\" \u002F\u003E\n```\n\nAbove is one way to boost page performance which is more high-level and generic, while the next one drills down to optimize the fetch request calls by using the `timestamp` property of `$fetchState` and comparing it against the number of seconds delay before it re-fetches the data.\n\nVue’s `activated` hook is used here with Nuxt's `keep-alive` prop to re-fetch the data.\n\n```js\nexport default {\n  activated() {\n    \u002F\u002F Call fetch again if last fetch more than a minute ago\n    if (this.$fetchState.timestamp \u003C= Date.now() - 60000) {\n      this.$fetch()\n    }\n  }\n}\n```\n\n## asyncData vs Fetch\n\nAs far as page components are concerned, new `fetch` seems way too similar to `asyncData()` because they both deal with the local data. But there are some key differences worth taking note of as below.\n\nAs of Nuxt 2.12, `asyncData` method is still an active feature. Let’s examine some of the key differences between `asyncData` and new `fetch`.\n\n### asyncData\n\n1. `asyncData` is limited to only page-level components\n2. `this` context is unavailable\n3. Adds payload by **returning** the data\n\n```js\nexport default {\n  async asyncData(context) {\n    const data = await context.$axios.$get(\n      `https:\u002F\u002Fjsonplaceholder.typicode.com\u002Ftodos`\n    )\n    \u002F\u002F `todos` does not have to be declared in data()\n    return { todos: data.Item }\n    \u002F\u002F `todos` is merged with local data\n  }\n}\n```\n\n### New Fetch\n\n1. `fetch` is available in all Vue components\n2. `this` context is available\n3. Simply **mutates** the local data\n\n```js\nexport default {\n  data() {\n    return {\n      todos: []\n    }\n  },\n  async fetch() {\n    const { data } = await axios.get(\n      `https:\u002F\u002Fjsonplaceholder.typicode.com\u002Ftodos`\n    )\n    \u002F\u002F `todos` has to be declared in data()\n    this.todos = data\n  }\n}\n```\n\n## Fetch before Nuxt 2.12\n\nIf you have been working with Nuxt for a while, then you’ll know that the previous version of `fetch` was significantly different.\n\n\u003E **Is this a breaking change?**\n\n\u003E No, it isn't. Actually, the old fetch can still be used by passing the `context` as the first argument to avoid any breaking changes in your existing Nuxt applications.\n\nHere’s the list of notable changes in `fetch` hook compared with **before** and **after** v2.12.\n\n### 1. Call order of `fetch` hook\n\n**Before -** `fetch` hook was called before initiating the component, hence `this` wasn’t available inside the fetch hook.\n\n**After -** `fetch` is called after the component instance is created on the server-side when the route is accessed.\n\n### 2. `this` vs `context`\n\n**Before -** We had access to the Nuxt `context` on page-level components, given that the `context` is passed as a first parameter.\n\n```js\nexport default {\n  fetch(context) {\n    \u002F\u002F …\n  }\n}\n```\n\n**After -** We can access `this` context just like Vue client-side hooks without passing any parameters.\n\n```js\nexport default {\n  fetch() {\n    console.log(this)\n  }\n}\n```\n\n### 3. Availability of `fetch` hook\n\n**Before -** Only page (route-level) components were allowed to fetch data on the server-side.\n\n**After -** Now, we can prefetch the data asynchronously in any Vue components.\n\n### 4. Call order of `fetch` hook\n\n**Before -** `fetch` could be called server-side once (on the first request to the Nuxt app) and client-side when navigating to further routes.\n\n**After -** New `fetch` is the same as an old fetch, but…\n\n…since we can have one `fetch` for each component, `fetch` hooks are called in sequence of their hierarchy.\n\n### 5. Error Handling\n\n**Before -** We used the `context.error` function that showed a custom error page when an error occurred during API calls.\n\n**After -** New `fetch` uses the `$fetchState` object to handle errors in the template area during API calls.\n\nError handling is performed at component level.\n\n\u003E **Does this mean we cannot show users a custom error page like we did prior to Nuxt 2.12?**\n\nYes we can, but only with `asyncData()` when it's about page-level component data. When using `fetch`, we can utilize `this.$nuxt.error({ statusCode: 404, message: 'Data not found' })` to show a custom error page.\n\n## Conclusion\n\nNew fetch hook brings a lot of improvements and provides more flexibility in fetching data and organizing route-level & building-block components in a whole new way!\n\nIt will certainly make you think a little differently when you plan and design your new Nuxt project that requires multiple API calls within the same route.\n\nI hope this article has helped you get acquainted with the new `fetch` feature. I'd love to see what you build with it.\n\n## What's next\n\n::alert{type=\"next\"}\nRead [Sergey Bedritsky's article](\u002Ftutorials\u002Fbuild-dev-to-clone-with-nuxt-new-fetch) to see new `fetch` hook in action as he shows how to build a dev.to clone!\n::\n\n::alert{type=\"next\"}\nAlready missed March newsletter? [Subscribe to Nuxt newsletter](#subscribe-to-newsletter) and get latest articles and resources delivered right into your inbox.\n::\n",ast:{type:"root",children:[{type:b,tag:i,props:{class:"d-heading-description"},children:[{type:a,value:"Nuxt introduces a new "},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:" with the latest release of version 2.12. Fetch provides a brand new way to bring data into Nuxt applications."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In this post, we will explore different features of the fetch hook and try to understand how it works."}]},{type:a,value:f},{type:b,tag:J,props:{id:aF},children:[{type:b,tag:u,props:{href:"#fetch-hook-and-nuxt-lifecycle"},children:[{type:a,value:aG}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In terms of Nuxt lifecycle hooks, "},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:" sits within Vue lifecycle after "},{type:b,tag:g,props:{},children:[{type:a,value:"created"}]},{type:a,value:" hook. As we already know that, all Vue lifecycle hooks are called with their "},{type:b,tag:g,props:{},children:[{type:a,value:x}]},{type:a,value:" context. The same applies to "},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:" hook as well."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:"prose-img",props:{alt:"New fetch in Nuxt lifecycle",src:"\u002Fblog\u002Funderstanding-how-fetch-works-in-nuxt-2-12\u002Fnew-fetch-lifecycle-hooks.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Fetch hook is called after the component instance is created on the server-side. That makes "},{type:b,tag:g,props:{},children:[{type:a,value:x}]},{type:a,value:" context available inside the "},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:m}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:b,tag:B,props:{className:[C,P]},children:[{type:b,tag:D,props:{},children:[{type:b,tag:c,props:{className:[d,j,y]},children:[{type:a,value:S}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j,y]},children:[{type:a,value:T}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,w]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,ag,ah]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,Q,w,n]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Let’s see what this could mean for page components."}]},{type:a,value:f},{type:b,tag:H,props:{id:aI},children:[{type:b,tag:u,props:{href:"#page-components"},children:[{type:a,value:aJ}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"With the help of "},{type:b,tag:g,props:{},children:[{type:a,value:x}]},{type:a,value:" context, fetch is able to mutate component’s data directly. It means we can set the component’s local data without having to dispatch Vuex store action or committing mutation from the page component."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As a result, Vuex becomes optional, but not impossible. We can still use "},{type:b,tag:g,props:{},children:[{type:a,value:"this.$store"}]},{type:a,value:" as usual to access Vuex store if required."}]},{type:a,value:f},{type:b,tag:J,props:{id:aK},children:[{type:b,tag:u,props:{href:"#availability-of-fetch-hook"},children:[{type:a,value:aL}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:aM},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:", we can prefetch the data asynchronously "},{type:b,tag:p,props:{},children:[{type:a,value:"in any Vue components"}]},{type:a,value:". It means, other than page components found in "},{type:b,tag:g,props:{},children:[{type:a,value:"\u002Fpages"}]},{type:a,value:" directory, every other "},{type:b,tag:g,props:{},children:[{type:a,value:".vue"}]},{type:a,value:" components found in "},{type:b,tag:g,props:{},children:[{type:a,value:"\u002Flayouts"}]},{type:a,value:aq},{type:b,tag:g,props:{},children:[{type:a,value:"\u002Fcomponents"}]},{type:a,value:" directories can also benefit from the fetch hook."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Let's see what this could mean for layout and building-block components."}]},{type:a,value:f},{type:b,tag:H,props:{id:aN},children:[{type:b,tag:u,props:{href:"#layout-components"},children:[{type:a,value:aO}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Using new "},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:", now we can make API calls directly from the layout components. This was impossible prior to the release of v2.12."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:p,props:{},children:[{type:a,value:"Possible use cases"}]}]},{type:a,value:f},{type:b,tag:"prose-ul",props:{},children:[{type:a,value:f},{type:b,tag:F,props:{},children:[{type:a,value:f},{type:a,value:"Fetch config data from the back-end in Nuxt layouts to generate footer and navbar dynamically"},{type:a,value:f}]},{type:a,value:f},{type:b,tag:F,props:{},children:[{type:a,value:f},{type:a,value:"Fetch user related data (i.e. user profile, shopping-cart item count) in the navbar"},{type:a,value:f}]},{type:a,value:f},{type:b,tag:F,props:{},children:[{type:a,value:f},{type:a,value:"Fetch site relevant data on "},{type:b,tag:g,props:{},children:[{type:a,value:"layouts\u002Ferror.vue"}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:H,props:{id:aP},children:[{type:b,tag:u,props:{href:"#building-block-childnested-components"},children:[{type:a,value:aQ}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:aM},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:" hook available in child components as well, we can off-load some of the data-fetching tasks from page-level components, and delegate them over to nested components. This was also impossible prior to the release of v2.12."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This reduces the responsibility of route-level components to a great extent."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:p,props:{},children:[{type:a,value:"Possible use case -"}]},{type:a,value:" We can still pass props to child components, but if the child components need to have their own data-fetching logic, now they can!"}]},{type:a,value:f},{type:b,tag:J,props:{id:aR},children:[{type:b,tag:u,props:{href:"#call-order-of-multiple-fetch-hooks"},children:[{type:a,value:aS}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Since each component can have its own data-fetching logic, you may ask what would be the order in which each of them are called?"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Fetch hook is called on server-side once (on the first request to the Nuxt app) and then on client-side when navigating to further routes. But since we can define one fetch hook for each component, fetch hooks are called in sequence of their hierarchy."}]},{type:a,value:f},{type:b,tag:H,props:{id:aT},children:[{type:b,tag:u,props:{href:"#disabling-fetch-on-server-side"},children:[{type:a,value:aU}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In addition, we can even disable fetch on the server-side if required."}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:b,tag:B,props:{className:[C,P]},children:[{type:b,tag:D,props:{},children:[{type:b,tag:c,props:{className:[d,j,y]},children:[{type:a,value:S}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j,y]},children:[{type:a,value:T}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n  fetchOnServer"},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:ai}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,"boolean"]},children:[{type:a,value:"false"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"And this way, the fetch hook will only be called on client-side. When "},{type:b,tag:g,props:{},children:[{type:a,value:"fetchOnServer"}]},{type:a,value:" is set to false, "},{type:b,tag:g,props:{},children:[{type:a,value:aV}]},{type:a,value:" becomes "},{type:b,tag:g,props:{},children:[{type:a,value:"true"}]},{type:a,value:" when the component is rendered on server-side."}]},{type:a,value:f},{type:b,tag:J,props:{id:aW},children:[{type:b,tag:u,props:{href:"#error-handling"},children:[{type:a,value:aX}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"New "},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:" handles error at component level. Let’s see how."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Because we’re fetching data asynchronously, the new fetch() provides a "},{type:b,tag:g,props:{},children:[{type:a,value:aa}]},{type:a,value:" object to check whether the request has finished and progressed successfully."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Below is what the "},{type:b,tag:g,props:{},children:[{type:a,value:aa}]},{type:a,value:" object looks like."}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:b,tag:B,props:{className:[C,"language-text"]},children:[{type:b,tag:D,props:{},children:[{type:a,value:"$fetchState = {\n  pending: true | false,\n  error: null | {},\n  timestamp: Integer\n};\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"We have three keys,"}]},{type:a,value:f},{type:b,tag:ar,props:{},children:[{type:a,value:f},{type:b,tag:F,props:{},children:[{type:a,value:f},{type:b,tag:p,props:{},children:[{type:a,value:"Pending -"}]},{type:a,value:" lets you display a placeholder when fetch is being called on client-side"},{type:a,value:f}]},{type:a,value:f},{type:b,tag:F,props:{},children:[{type:a,value:f},{type:b,tag:p,props:{},children:[{type:a,value:"Error -"}]},{type:a,value:" lets you show an error message"},{type:a,value:f}]},{type:a,value:f},{type:b,tag:F,props:{},children:[{type:a,value:f},{type:b,tag:p,props:{},children:[{type:a,value:"Timestamp -"}]},{type:a,value:" shows timestamp of the last fetch which is useful for caching with "},{type:b,tag:g,props:{},children:[{type:a,value:ab}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"These keys are then used directly in the template area of the component to show relevant placeholders during the process of fetching data from the API."}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:b,tag:B,props:{className:[C,aj]},children:[{type:b,tag:D,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:am}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:"v-if"}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:b,tag:c,props:{className:[d,e,ao]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:U}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:U}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:"Fetching posts..."},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:V}]},{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:am}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:"v-else-if"}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:b,tag:c,props:{className:[d,e,ao]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:U}]},{type:a,value:"$fetchState.error"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:U}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:"Error while fetching posts"},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:V}]},{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:aY}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:"v-else"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:"\n      …\n    "},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:V}]},{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:V}]},{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:V}]},{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"When error occurs at "},{type:b,tag:p,props:{},children:[{type:a,value:"component-level"}]},{type:a,value:", we can set HTTP status code on server-side by checking "},{type:b,tag:g,props:{},children:[{type:a,value:"process.server"}]},{type:a,value:" in fetch hook and follow it up with "},{type:b,tag:g,props:{},children:[{type:a,value:"throw new Error()"}]},{type:a,value:" statement."}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:b,tag:B,props:{className:[C,P]},children:[{type:b,tag:D,props:{},children:[{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:as}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,w]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:at}]},{type:a,value:" post "},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:L}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j,M]},children:[{type:a,value:au}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,w]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,av]},children:[{type:b,tag:c,props:{className:[d,Y,N]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"https:\u002F\u002Fjsonplaceholder.typicode.com\u002Fposts\u002F"}]},{type:b,tag:c,props:{className:[d,"interpolation"]},children:[{type:b,tag:c,props:{className:[d,aZ,e]},children:[{type:a,value:"${"}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:a_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,aZ,e]},children:[{type:a,value:o}]}]},{type:b,tag:c,props:{className:[d,Y,N]},children:[{type:a,value:Z}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"\n                     "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,Q,w,n]},children:[{type:a,value:"then"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,ax]},children:[{type:a,value:ba}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,"arrow",E]},children:[{type:a,value:"=\u003E"}]},{type:a,value:" res"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,Q,w,n]},children:[{type:a,value:"json"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"\n\n  "},{type:b,tag:c,props:{className:[d,j,M]},children:[{type:a,value:ay}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aw}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"==="}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:a_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bb}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:L}]},{type:a,value:" post\n    "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j,M]},children:[{type:a,value:"else"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:"\u002F\u002F set status code on server and"}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,j,M]},children:[{type:a,value:ay}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"process"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"server"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n        "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"$nuxt"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ba}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"statusCode"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:L}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,bc]},children:[{type:a,value:"404"}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:"\u002F\u002F use throw new Error()"}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,j,M]},children:[{type:a,value:"throw"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"new"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ah]},children:[{type:a,value:"Error"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"'Post not found'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Setting the HTTP status code this way "},{type:b,tag:p,props:{},children:[{type:a,value:"is useful for correct SEO"}]},{type:a,value:m}]},{type:a,value:f},{type:b,tag:J,props:{id:bd},children:[{type:b,tag:u,props:{href:"#fetch-as-a-method"},children:[{type:a,value:be}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"New fetch hook also acts as a method that can be invoked upon user interaction or invoked programmatically from the component methods."}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:b,tag:B,props:{className:[C,aj]},children:[{type:b,tag:D,props:{},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:"\u003C!-- from template in template  --\u003E"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:bf}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:"@click"}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:b,tag:c,props:{className:[d,e,ao]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:U}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:U}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:"Refresh Data"},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:V}]},{type:a,value:bf}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:b,tag:B,props:{className:[C,P]},children:[{type:b,tag:D,props:{},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:"\u002F\u002F from component methods in script section"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j,y]},children:[{type:a,value:S}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j,y]},children:[{type:a,value:T}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n  methods"},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:ai}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,w]},children:[{type:a,value:"refresh"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,Q,w,n]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:J,props:{id:bg},children:[{type:b,tag:u,props:{href:"#making-nuxt-pages-more-performant"},children:[{type:a,value:bh}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"We can use "},{type:b,tag:g,props:{},children:[{type:a,value:ap}]},{type:a,value:" prop and "},{type:b,tag:g,props:{},children:[{type:a,value:aA}]},{type:a,value:" hook to make Nuxt page components more performant using a new fetch hook."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Nuxt allows "},{type:b,tag:p,props:{},children:[{type:a,value:"caching a certain number of pages"}]},{type:a,value:" in the memory along with their fetched data. And also allows "},{type:b,tag:p,props:{},children:[{type:a,value:"adding a number of seconds"}]},{type:a,value:" before we can re-fetch the data."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"For any of the above methods to work, we have to use the "},{type:b,tag:g,props:{},children:[{type:a,value:ab}]},{type:a,value:" prop in generic "},{type:b,tag:g,props:{},children:[{type:a,value:bi}]},{type:a,value:aq},{type:b,tag:g,props:{},children:[{type:a,value:"\u003Cnuxt-child"}]},{type:a,value:"\u003E components."}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:b,tag:c,props:{className:[bj]},children:[{type:a,value:bk}]},{type:b,tag:B,props:{className:[C,aj]},children:[{type:b,tag:D,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:bl}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:ab}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bm}]}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:V}]},{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:V}]},{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In addition, we can pass "},{type:b,tag:g,props:{},children:[{type:a,value:ap}]},{type:a,value:" to "},{type:b,tag:g,props:{},children:[{type:a,value:bi}]},{type:a,value:" component to cache a number of pages along with their fetched data."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:ap}]},{type:a,value:" prop allow us to indicate the maximum number of pages that should be kept in the memory while we navigate elsewhere within the site."}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:b,tag:c,props:{className:[bj]},children:[{type:a,value:bk}]},{type:b,tag:B,props:{className:[C,aj]},children:[{type:b,tag:D,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:bl}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:ab}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:b,tag:c,props:{className:[d,e,ao]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:U}]},{type:a,value:"{ max: 10 }"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:U}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bm}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Above is one way to boost page performance which is more high-level and generic, while the next one drills down to optimize the fetch request calls by using the "},{type:b,tag:g,props:{},children:[{type:a,value:bn}]},{type:a,value:" property of "},{type:b,tag:g,props:{},children:[{type:a,value:aa}]},{type:a,value:" and comparing it against the number of seconds delay before it re-fetches the data."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Vue’s "},{type:b,tag:g,props:{},children:[{type:a,value:aA}]},{type:a,value:" hook is used here with Nuxt's "},{type:b,tag:g,props:{},children:[{type:a,value:ab}]},{type:a,value:" prop to re-fetch the data."}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:b,tag:B,props:{className:[C,P]},children:[{type:b,tag:D,props:{},children:[{type:b,tag:c,props:{className:[d,j,y]},children:[{type:a,value:S}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j,y]},children:[{type:a,value:T}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,w]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:"\u002F\u002F Call fetch again if last fetch more than a minute ago"}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,j,M]},children:[{type:a,value:ay}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bn}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"\u003C="}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,"known-class-name",ah]},children:[{type:a,value:"Date"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,Q,w,n]},children:[{type:a,value:"now"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"-"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,bc]},children:[{type:a,value:"60000"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,Q,w,n]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:J,props:{id:bo},children:[{type:b,tag:u,props:{href:"#asyncdata-vs-fetch"},children:[{type:a,value:bp}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As far as page components are concerned, new "},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:" seems way too similar to "},{type:b,tag:g,props:{},children:[{type:a,value:bq}]},{type:a,value:" because they both deal with the local data. But there are some key differences worth taking note of as below."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As of Nuxt 2.12, "},{type:b,tag:g,props:{},children:[{type:a,value:_}]},{type:a,value:" method is still an active feature. Let’s examine some of the key differences between "},{type:b,tag:g,props:{},children:[{type:a,value:_}]},{type:a,value:" and new "},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:m}]},{type:a,value:f},{type:b,tag:H,props:{id:br},children:[{type:b,tag:u,props:{href:"#asyncdata"},children:[{type:a,value:_}]}]},{type:a,value:f},{type:b,tag:ar,props:{},children:[{type:a,value:f},{type:b,tag:F,props:{},children:[{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:_}]},{type:a,value:" is limited to only page-level components"},{type:a,value:f}]},{type:a,value:f},{type:b,tag:F,props:{},children:[{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:x}]},{type:a,value:" context is unavailable"},{type:a,value:f}]},{type:a,value:f},{type:b,tag:F,props:{},children:[{type:a,value:f},{type:a,value:"Adds payload by "},{type:b,tag:p,props:{},children:[{type:a,value:"returning"}]},{type:a,value:" the data"},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:b,tag:B,props:{className:[C,P]},children:[{type:b,tag:D,props:{},children:[{type:b,tag:c,props:{className:[d,j,y]},children:[{type:a,value:S}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j,y]},children:[{type:a,value:T}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:as}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,w]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,ax]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:at}]},{type:a,value:bs},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:L}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j,M]},children:[{type:a,value:au}]},{type:a,value:" context"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"$axios"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,Q,w,n]},children:[{type:a,value:"$get"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,av]},children:[{type:b,tag:c,props:{className:[d,Y,N]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:bt}]},{type:b,tag:c,props:{className:[d,Y,N]},children:[{type:a,value:Z}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:"\u002F\u002F `todos` does not have to be declared in data()"}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,j,M]},children:[{type:a,value:bu}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:" todos"},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:ai}]},{type:a,value:" data"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:b,tag:c,props:{className:[d,"maybe-class-name"]},children:[{type:a,value:"Item"}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:"\u002F\u002F `todos` is merged with local data"}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:H,props:{id:bv},children:[{type:b,tag:u,props:{href:"#new-fetch"},children:[{type:a,value:bw}]}]},{type:a,value:f},{type:b,tag:ar,props:{},children:[{type:a,value:f},{type:b,tag:F,props:{},children:[{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:" is available in all Vue components"},{type:a,value:f}]},{type:a,value:f},{type:b,tag:F,props:{},children:[{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:x}]},{type:a,value:" context is available"},{type:a,value:f}]},{type:a,value:f},{type:b,tag:F,props:{},children:[{type:a,value:f},{type:a,value:"Simply "},{type:b,tag:p,props:{},children:[{type:a,value:"mutates"}]},{type:a,value:" the local data"},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:b,tag:B,props:{className:[C,P]},children:[{type:b,tag:D,props:{},children:[{type:b,tag:c,props:{className:[d,j,y]},children:[{type:a,value:S}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j,y]},children:[{type:a,value:T}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,w]},children:[{type:a,value:"data"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,j,M]},children:[{type:a,value:bu}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n      todos"},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:ai}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:"["}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:"]"}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:","}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:as}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,w]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:at}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bs},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:L}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j,M]},children:[{type:a,value:au}]},{type:a,value:" axios"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,Q,w,n]},children:[{type:a,value:"get"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,av]},children:[{type:b,tag:c,props:{className:[d,Y,N]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:bt}]},{type:b,tag:c,props:{className:[d,Y,N]},children:[{type:a,value:Z}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:"\u002F\u002F `todos` has to be declared in data()"}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"todos"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:L}]},{type:a,value:" data\n  "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:J,props:{id:bx},children:[{type:b,tag:u,props:{href:"#fetch-before-nuxt-212"},children:[{type:a,value:by}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If you have been working with Nuxt for a while, then you’ll know that the previous version of "},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:" was significantly different."}]},{type:a,value:f},{type:b,tag:aB,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:p,props:{},children:[{type:a,value:"Is this a breaking change?"}]}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:aB,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"No, it isn't. Actually, the old fetch can still be used by passing the "},{type:b,tag:g,props:{},children:[{type:a,value:X}]},{type:a,value:" as the first argument to avoid any breaking changes in your existing Nuxt applications."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Here’s the list of notable changes in "},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:" hook compared with "},{type:b,tag:p,props:{},children:[{type:a,value:"before"}]},{type:a,value:aq},{type:b,tag:p,props:{},children:[{type:a,value:"after"}]},{type:a,value:" v2.12."}]},{type:a,value:f},{type:b,tag:H,props:{id:bz},children:[{type:b,tag:u,props:{href:"#1-call-order-of-fetch-hook"},children:[{type:a,value:"1. Call order of "},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:aC}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:p,props:{},children:[{type:a,value:ac}]},{type:a,value:h},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:" hook was called before initiating the component, hence "},{type:b,tag:g,props:{},children:[{type:a,value:x}]},{type:a,value:" wasn’t available inside the fetch hook."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:p,props:{},children:[{type:a,value:ad}]},{type:a,value:h},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:" is called after the component instance is created on the server-side when the route is accessed."}]},{type:a,value:f},{type:b,tag:H,props:{id:bA},children:[{type:b,tag:u,props:{href:"#2-this-vs-context"},children:[{type:a,value:"2. "},{type:b,tag:g,props:{},children:[{type:a,value:x}]},{type:a,value:" vs "},{type:b,tag:g,props:{},children:[{type:a,value:X}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:p,props:{},children:[{type:a,value:ac}]},{type:a,value:" We had access to the Nuxt "},{type:b,tag:g,props:{},children:[{type:a,value:X}]},{type:a,value:" on page-level components, given that the "},{type:b,tag:g,props:{},children:[{type:a,value:X}]},{type:a,value:" is passed as a first parameter."}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:b,tag:B,props:{className:[C,P]},children:[{type:b,tag:D,props:{},children:[{type:b,tag:c,props:{className:[d,j,y]},children:[{type:a,value:S}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j,y]},children:[{type:a,value:T}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,w]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,ax]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:"\u002F\u002F …"}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:p,props:{},children:[{type:a,value:ad}]},{type:a,value:" We can access "},{type:b,tag:g,props:{},children:[{type:a,value:x}]},{type:a,value:" context just like Vue client-side hooks without passing any parameters."}]},{type:a,value:f},{type:b,tag:A,props:{},children:[{type:b,tag:B,props:{className:[C,P]},children:[{type:b,tag:D,props:{},children:[{type:b,tag:c,props:{className:[d,j,y]},children:[{type:a,value:S}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j,y]},children:[{type:a,value:T}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,w]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,ag,ah]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,Q,w,n]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:H,props:{id:bB},children:[{type:b,tag:u,props:{href:"#3-availability-of-fetch-hook"},children:[{type:a,value:"3. Availability of "},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:aC}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:p,props:{},children:[{type:a,value:ac}]},{type:a,value:" Only page (route-level) components were allowed to fetch data on the server-side."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:p,props:{},children:[{type:a,value:ad}]},{type:a,value:" Now, we can prefetch the data asynchronously in any Vue components."}]},{type:a,value:f},{type:b,tag:H,props:{id:bC},children:[{type:b,tag:u,props:{href:"#4-call-order-of-fetch-hook"},children:[{type:a,value:"4. Call order of "},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:aC}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:p,props:{},children:[{type:a,value:ac}]},{type:a,value:h},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:" could be called server-side once (on the first request to the Nuxt app) and client-side when navigating to further routes."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:p,props:{},children:[{type:a,value:ad}]},{type:a,value:bD},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:" is the same as an old fetch, but…"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"…since we can have one "},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:" for each component, "},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:" hooks are called in sequence of their hierarchy."}]},{type:a,value:f},{type:b,tag:H,props:{id:bE},children:[{type:b,tag:u,props:{href:"#5-error-handling"},children:[{type:a,value:bF}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:p,props:{},children:[{type:a,value:ac}]},{type:a,value:" We used the "},{type:b,tag:g,props:{},children:[{type:a,value:"context.error"}]},{type:a,value:" function that showed a custom error page when an error occurred during API calls."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:p,props:{},children:[{type:a,value:ad}]},{type:a,value:bD},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:" uses the "},{type:b,tag:g,props:{},children:[{type:a,value:aa}]},{type:a,value:" object to handle errors in the template area during API calls."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Error handling is performed at component level."}]},{type:a,value:f},{type:b,tag:aB,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:p,props:{},children:[{type:a,value:"Does this mean we cannot show users a custom error page like we did prior to Nuxt 2.12?"}]}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Yes we can, but only with "},{type:b,tag:g,props:{},children:[{type:a,value:bq}]},{type:a,value:" when it's about page-level component data. When using "},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:", we can utilize "},{type:b,tag:g,props:{},children:[{type:a,value:"this.$nuxt.error({ statusCode: 404, message: 'Data not found' })"}]},{type:a,value:" to show a custom error page."}]},{type:a,value:f},{type:b,tag:J,props:{id:bG},children:[{type:b,tag:u,props:{href:"#conclusion"},children:[{type:a,value:bH}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"New fetch hook brings a lot of improvements and provides more flexibility in fetching data and organizing route-level & building-block components in a whole new way!"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"It will certainly make you think a little differently when you plan and design your new Nuxt project that requires multiple API calls within the same route."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"I hope this article has helped you get acquainted with the new "},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:" feature. I'd love to see what you build with it."}]},{type:a,value:f},{type:b,tag:J,props:{id:bI},children:[{type:b,tag:u,props:{href:"#whats-next"},children:[{type:a,value:bJ}]}]},{type:a,value:f},{type:b,tag:bK,props:{type:bL},children:[{type:b,tag:i,props:{},children:[{type:a,value:"Read "},{type:b,tag:u,props:{href:"\u002Ftutorials\u002Fbuild-dev-to-clone-with-nuxt-new-fetch"},children:[{type:a,value:"Sergey Bedritsky's article"}]},{type:a,value:" to see new "},{type:b,tag:g,props:{},children:[{type:a,value:l}]},{type:a,value:" hook in action as he shows how to build a dev.to clone!"}]}]},{type:a,value:f},{type:b,tag:bK,props:{type:bL},children:[{type:b,tag:i,props:{},children:[{type:a,value:"Already missed March newsletter? "},{type:b,tag:u,props:{href:"#subscribe-to-newsletter"},children:[{type:a,value:"Subscribe to Nuxt newsletter"}]},{type:a,value:" and get latest articles and resources delivered right into your inbox."}]}]}]},toc:{title:ae,searchDepth:G,depth:G,links:[{id:aF,depth:G,text:aG,children:[{id:aI,depth:I,text:aJ}]},{id:aK,depth:G,text:aL,children:[{id:aN,depth:I,text:aO},{id:aP,depth:I,text:aQ}]},{id:aR,depth:G,text:aS,children:[{id:aT,depth:I,text:aU}]},{id:aW,depth:G,text:aX},{id:bd,depth:G,text:be},{id:bg,depth:G,text:bh},{id:bo,depth:G,text:bp,children:[{id:br,depth:I,text:_},{id:bv,depth:I,text:bw}]},{id:bx,depth:G,text:by,children:[{id:bz,depth:I,text:"1. Call order of fetch hook"},{id:bA,depth:I,text:"2. this vs context"},{id:bB,depth:I,text:"3. Availability of fetch hook"},{id:bC,depth:I,text:"4. Call order of fetch hook"},{id:bE,depth:I,text:bF}]},{id:bG,depth:G,text:bH},{id:bI,depth:G,text:bJ}]}}},templateOptions:{header:af,footer:af,aside:$,asideClass:ae,fluid:$,banner:af},_img:{"/_ipx/https://pbs.twimg.com/profile_images/780651635932434432/YtbSkumD_400x400.jpg?s=32_32":"\u002F_nuxt\u002Fimage\u002F857fef.jpg","/_ipx/blog/understanding-how-fetch-works-in-nuxt-2-12/main.jpeg":"\u002F_nuxt\u002Fimage\u002F224d17.jpeg","/_ipx/blog/understanding-how-fetch-works-in-nuxt-2-12/new-fetch-lifecycle-hooks.png":"\u002F_nuxt\u002Fimage\u002F91926d.png"}}],fetch:{"AppLayout:0":{headerLinks:[{title:"Home",slug:bM,to:bM},{title:bN,items:[{title:"Tutorials",slug:"tutorials",subtitle:ae,to:"\u002Ftutorials",icon:"tutorials.svg",color:aD},{title:"API docs",subtitle:ae,slug:bO,to:aE,icon:"examples.svg",color:aD},{title:"Integrations",subtitle:ae,slug:bO,to:aE,icon:"docs.svg",color:aD}]},{title:"Pricing",slug:"pricing",to:"\u002Fpricing"}],footerLinks:[{title:"About",items:[{title:"Contact us",href:"mailto:hello@nuxtjs.com"},{title:"Enterprise support",to:"\u002Fsupport"},{title:"NuxtLabs company",href:"https:\u002F\u002Fnuxtlabs.com\u002F"},{title:"Open Source Software",href:"https:\u002F\u002Fgithub.com\u002Fnuxt"},{title:"Partnerships",to:"\u002Fpartners"},{title:"Telemetry",href:"https:\u002F\u002Fgithub.com\u002Fnuxt\u002Ftelemetry"}]},{title:bN,items:[{title:"Design",to:"\u002Fdesign"},{title:"Documentation",to:aE},{title:"Examples",to:"\u002Fexamples"},{title:"Deployments",to:"\u002Fdeployments"},{title:"Master courses",href:"https:\u002F\u002Fmasteringnuxt.com\u002F?utm_source=nuxt&utm_medium=link&utm_campaign=nsite"},{title:"Modules",href:"https:\u002F\u002Fmodules.nuxtjs.org"},{title:"Releases",to:"\u002Freleases"},{title:"Showcases",to:"\u002Fshowcases"},{title:"Themes",to:"\u002Fthemes"}]}],showCookieBanner:$},_lazyComponents:new Set(["ProseParagraph","HomeHero","SugerMainImg","SectionContentItem","SugerHomeFeatures","SugerHomeImg","SugerHomeText","SugerHomeProduct","SugerHomeCommunity","SugerHomeLearnGuides","SugerHomeTextList","SugerHomePricing","SugerHomeFooterImg","SugerHomeFooterCooperation","PageHero","SupportCard","SupportContainer","ProseA","ProseH3","ProseCodeInline","ProseLi","ProseUl","ProseStrong","ProseBlockquote","ProseCode","ProseH2","DesignHero","DesignLogos","DesignSection","DesignColors","DesignTypography","DesignSections","PartnersBottomHero","PartnersSection","ShowcasesBottomHero","ShowcasesListing","VideoPlayer","ProseImg","CodeGroup","Alert","ThemesList","ProseEm","ProseOl","ProseH4","ProseH1","ProseHr","List","ProseTh","ProseTr","ProseThead","ProseTd","ProseTbody","ProseTable","Sandbox"])},mutations:[]}}("text","element","span","token","punctuation","\n","prose-code-inline"," ","prose-paragraph","keyword","tag","fetch",".","property-access","}","prose-strong","{","(",")","\n    ","prose-a","\n  ","function","this","module","\u003E","prose-code","pre","line-numbers","code","operator","prose-li",2,"prose-h3",3,"prose-h2","\u003C","=","control-flow","string","\n      ","language-js","method","comment","export","default","\"","\u003C\u002F","attr-name","context","template-punctuation","`","asyncData",false,"$fetchState","keep-alive","Before -","After -","",true,"console","class-name",":","language-html","template","div","p","attr-value","attr-equals",":keep-alive-props"," and ","prose-ol","async","const","await","template-string","id","parameter","if","$fetch","activated","prose-blockquote"," hook","bg-indigo","\u002Fdocs","fetch-hook-and-nuxt-lifecycle","Fetch Hook and Nuxt Lifecycle","log","page-components","Page Components","availability-of-fetch-hook","Availability of fetch hook","With ","layout-components","Layout Components","building-block-childnested-components","Building-block (Child\u002FNested) Components","call-order-of-multiple-fetch-hooks","Call order of multiple fetch hooks","disabling-fetch-on-server-side","Disabling fetch on server-side","$fetchState.pending","error-handling","Error Handling","ul","interpolation-punctuation","$route","params","res","post","number","fetch-as-a-method","Fetch as a method","button","making-nuxt-pages-more-performant","Making Nuxt pages more performant","\u003Cnuxt \u002F\u003E","filename","layouts\u002Fdefault.vue","nuxt","\u002F\u003E","timestamp","asyncdata-vs-fetch","asyncData vs Fetch","asyncData()","asyncdata"," data ","https:\u002F\u002Fjsonplaceholder.typicode.com\u002Ftodos","return","new-fetch","New Fetch","fetch-before-nuxt-212","Fetch before Nuxt 2.12","1-call-order-of-fetch-hook","2-this-vs-context","3-availability-of-fetch-hook","4-call-order-of-fetch-hook"," New ","5-error-handling","5. Error Handling","conclusion","Conclusion","whats-next","What's next","alert","next","\u002F","Resources","docs")));